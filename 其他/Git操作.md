# Git操作

## 一、初始化

> 该处是用来提交时当作签名使用的

```shell
git config --global user.name "我的用户名"
git config --global user.email "我的邮箱"
# 删除配置信息
git config --global --unset user.name
git config --global --unset user.email
```

## 二、Git工作区域与流程

### 1、工作区域

- 工作区

  > 本地存放代码的文件目录

- 暂存区

  > git add 后提交暂存的地方

- 版本库

  > git commit 后给你生成版本的地方，注意push是提交到远程仓库而不是版本库

### 2、工作流程

每个项目都有一个Git目录(.git)它是用来保存元数据和对象数据库的地方。每次克隆镜像仓库的时候，实际拷贝的就是这个目录里的数据

#### ①、在工作目录中修改某些文件

> 从项目中取出某个版本的所有文件和目录，用以开始后续工作的叫做工作目录，这些文件实际上都是从git目录中的压缩对象数据库中提取出来的，接下去就可以在工作目录中对这些文件进行编辑

#### ②、保存到暂存区，对暂存区做快照

> 暂存区只不过是个简单的文件，一般都放在git目录中

#### ③、提交更新

> 将保存在暂存区域的文件快照永久转存到本地数据库（git目录）中

我们可以从文件所处位置来判断状态；如果是git目录中保存着的特定版本文件，就属于提交版本；如果做了修改并已经放入暂存区域，就属于已暂存状态；如果自上次去除后，做了修改但还没有放到暂存区域,就是已修改状态

## 三、git命令

### 1、git add .

- 会将工作目录的修改，保存成git对象先到版本库，再到暂存区。而不是直接到暂存区
- 在工作目录修改几个文件，就会生成几个git对象（一个文件对应一个git文件）
- 同一个文件，每次修改再add的时候都会生成一个新的git对象，是增量而不是覆盖
- 所以说git是绝对安全的，就算我只存到暂存区没有提交，git也会保存
- 只有后面提交的时候，才会根据暂存区内容生成树对象并存入版本区，然后加上我们的提交信息，才生成提交对象存入版本库

### 2、git commit -m "注释内容"

> 将暂存区提交到版本库

### 3、git init

> 初始化仓库，初始化后会在当前目录生成一个名问.git的文件夹

### 4、git status

> 查看文件的状态

### 5、git diff

- 当前做的哪些更新没有暂存

- 有哪些更新以及暂存起来准备好了下次提交

  命令：git diff --cached 或者 git diff --staged

### 6、git log

- `git log`(不带参数)

  方向键 翻页 `q`退出日志查阅（回退的版本看不到）

- git log --oneline

  默认只展示简短的 commit id 和提交注释

- git reflog

  查看所有的历史版本信息（包含被回退的版本）

